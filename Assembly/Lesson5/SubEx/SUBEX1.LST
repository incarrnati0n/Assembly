Microsoft (R) Macro Assembler Version 5.10                  10/17/23 19:25:2
                                                             Page     1-1


       1 0000				Code Segment
       2				    assume CS: Code, DS: Data, SS: Stac
					k
       3				
       4 0000				Start:
       5 0000  BF 0082			    mov di, 82h
       6 0003  B9 000A			    mov cx, 10 ;alapértelmezett V0
       7				
       8 0006				Keres:
       9 0006  8A 15			    mov dl, [di]
      10 0008  80 FA 2F			    cmp dl, "/"
      11 000B  74 06			    jz ElsoSzam
      12 000D  47			    inc di
      13 000E  E2 F6			    loop Keres
      14 0010  E9 0095 R		    jmp Default
      15				
      16 0013				ElsoSzam:
      17 0013  47			    inc di
      18 0014  8A 15			    mov dl, [di]
      19 0016  80 FA 30			    cmp dl, '0'
      20 0019  74 31			    jz Atugor
      21				
      22 001B  80 FA 3F			    cmp dl, '?'
      23 001E  74 47			    jz Kiiras
      24				
      25 0020  80 FA 30			    cmp dl, '0'
      26 0023  72 08			    jc NemSzam
      27				
      28 0025  80 FA 3A			    cmp dl, ':'
      29 0028  73 03			    jnc NemSzam
      30				
      31 002A  EB 24 90			    jmp ParamKezdet
      32				
      33 002D				NemSzam:
      34 002D  B8 ---- R		    mov ax,Code
      35 0030  8E D8			    mov ds,ax
      36				
      37 0032  33 FF			    xor di,di
      38 0034  33 F6			    xor si,si
      39				
      40 0036  33 D2			    xor dx,dx
      41						
      42 0038  B4 00				mov ah,00
      43 003A  B0 02				mov al,02
      44 003C  CD 10				int 10h
      45				
      46 003E  BA 014A R		    mov dx, offset error
      47 0041  B4 09			    mov ah, 09h
      48 0043  CD 21			    int 21h
      49				
      50 0045  33 C0			    xor ax, ax
      51 0047  CD 16			    int 16h
      52				
      53 0049  EB 4A 90			    jmp Default
Microsoft (R) Macro Assembler Version 5.10                  10/17/23 19:25:2
                                                             Page     1-2


      54				    
      55 004C				Atugor:
      56 004C  47			    inc di
      57 004D  EB 01 90			    jmp ParamKezdet
      58				
      59 0050				ParamKezdet:
      60				
      61 0050  8A 1D			    mov bl, [di]
      62 0052  80 EB 30			    sub bl, 48
      63 0055  47			    inc di
      64				
      65 0056  8A 3D			    mov bh, [di]
      66 0058  80 EF 30			    sub bh, 48
      67				    
      68 005B  B8 000A			    mov ax, 10
      69 005E  F6 E3			    mul bl
      70				
      71 0060  02 C7			    add al, bh
      72 0062  8B C8			    mov cx, ax
      73				
      74 0064  EB 32 90			    jmp Init
      75				
      76 0067				Kiiras:
      77 0067  B8 ---- R		    mov ax,Code
      78 006A  8E D8			    mov ds,ax
      79				
      80 006C  33 FF			    xor di,di
      81 006E  33 F6			    xor si,si
      82				
      83 0070  33 D2			    xor dx,dx
      84						
      85 0072  B4 00				mov ah,00
      86 0074  B0 02				mov al,02
      87 0076  CD 10				int 10h
      88				
      89 0078  BA 00EE R		    mov dx, offset segitoszoveg
      90 007B  B4 09			    mov ah, 09h
      91 007D  CD 21			    int 21h
      92				
      93 007F  B2 0A			    mov dl, 10
      94 0081  B4 02			    mov ah, 02h
      95 0083  CD 21			    int 21h
      96 0085  B2 0D			    mov dl, 13
      97 0087  B4 02			    mov ah, 02h
      98 0089  CD 21			    int 21h 
      99				
     100 008B  BA 010D R			mov dx, offset segitoszoveg2
     101 008E  B4 09				mov ah,09h
     102 0090  CD 21			    int 21h
     103				
     104 0092  EB 52 90			    jmp Program_Vege
     105				
     106				
     107 0095				Default:
Microsoft (R) Macro Assembler Version 5.10                  10/17/23 19:25:2
                                                             Page     1-3


     108 0095  B9 000A			    mov cx, 10
     109				
     110 0098				Init:
     111 0098  B8 ---- R		    mov ax, Code
     112 009B  8E D8			    mov ds, ax
     113				
     114 009D  33 FF			    xor di, di ;golyó sor pozíciója
     115 009F  33 F6			    xor si, si ;golyó sor pozíciója
     116				
     117 00A1  33 D2			    xor dx, dx
     118 00A3  52			    push dx ;veremben az idő (most 0)
     119				
     120 00A4				Torles:
     121 00A4  B8 0003			    mov ax, 03h
     122 00A7  CD 10			    int 10h
     123				
     124 00A9				Rajz:
     125 00A9  8B DF			    mov bx, di ;sor koordináta
     126 00AB  8A F3			    mov dh, bl ;di alsó bájtja tartal
					mazza
     127 00AD  8B DE			    mov bx, si ;oszlop koordináta
     128 00AF  8A D3			    mov dl, bl ;si alsó bájtja tartal
					mazza
     129 00B1  32 FF			    xor bh, bh
     130 00B3  B4 02			    mov ah, 02h
     131 00B5  CD 10			    int 10h
     132				
     133 00B7  BA 00EC R		    mov dx, offset labda
     134 00BA  B4 09			    mov ah, 09h
     135 00BC  CD 21			    int 21h
     136				
     137 00BE  58			    pop ax ;idő a veremben
     138 00BF  50			    push ax
     139				
     140 00C0  8A D8			    mov bl, al
     141 00C2  F6 E3			    mul bl
     142 00C4  D1 E8			    shr ax, 1 
     143 00C6  8B F8			    mov di, ax
     144				
     145 00C8  58			    pop ax
     146 00C9  40			    inc ax
     147 00CA  50			    push ax
     148 00CB  48			    dec ax
     149				
     150 00CC  8A D9			    mov bl, cl 
     151 00CE  F6 E3			    mul bl 
     152 00D0  8B F0			    mov si, ax
     153				
     154 00D2  D1 EF			    shr di, 1
     155 00D4  D1 EE			    shr si, 1
     156				
     157 00D6  83 FE 50			    cmp si, 80 
     158 00D9  73 07			    jnc Var
     159				
Microsoft (R) Macro Assembler Version 5.10                  10/17/23 19:25:2
                                                             Page     1-4


     160 00DB  83 FF 19			    cmp di, 25 
     161 00DE  73 02			    jnc Var
     162				
     163 00E0  EB C7			    jmp Rajz
     164				
     165 00E2				Var:
     166 00E2  33 C0			    xor ax, ax
     167 00E4  CD 16			    int 16h
     168				
     169 00E6				Program_Vege:
     170 00E6  59			    pop cx
     171 00E7  B8 4C00			    mov ax, 4c00h
     172 00EA  CD 21			    int 21h
     173				
     174 00EC  4F 24			labda db "O$"
     175				
     176 00EE  41 20 70 72 6F 67	segitoszoveg db "A program alapvetoen 1
					0-el dob$"
     177       72 61 6D 20 61 6C	
     178       61 70 76 65 74 6F	
     179       65 6E 20 31 30 2D	
     180       65 6C 20 64 6F 62	
     181       24			
     182				
     183 010D  41 20 70 72 6F 67	segitoszoveg2 db "A program meghivasa u
					tan adj meg egy parametert a / jel utan
					$"
     184       72 61 6D 20 6D 65	
     185       67 68 69 76 61 73	
     186       61 20 75 74 61 6E	
     187       20 61 64 6A 20 6D	
     188       65 67 20 65 67 79	
     189       20 70 61 72 61 6D	
     190       65 74 65 72 74 20	
     191       61 20 2F 20 6A 65	
     192       6C 20 75 74 61 6E	
     193       24			
     194				
     195 014A  4E 65 6D 20 73 7A	error db "Nem szam a parameter!$"
     196       61 6D 20 61 20 70	
     197       61 72 61 6D 65 74	
     198       65 72 21 24		
     199				
     200 0160				Code Ends
     201				
     202 0000				Data Segment
     203 0000				Data Ends
     204				
     205 0000				Stack Segment
     206 0000				Stack Ends
     207				
     208				End Start
Microsoft (R) Macro Assembler Version 5.10                  10/17/23 19:25:2
                                                             Symbols-1


Segments and Groups:

                N a m e         	Length	 Align	Combine Class

CODE . . . . . . . . . . . . . .  	0160	PARA	NONE	
DATA . . . . . . . . . . . . . .  	0000	PARA	NONE	
STACK  . . . . . . . . . . . . .  	0000	PARA	NONE	

Symbols:            

                N a m e         	Type	 Value	 Attr

ATUGOR . . . . . . . . . . . . .  	L NEAR	004C	CODE

DEFAULT  . . . . . . . . . . . .  	L NEAR	0095	CODE

ELSOSZAM . . . . . . . . . . . .  	L NEAR	0013	CODE
ERROR  . . . . . . . . . . . . .  	L BYTE	014A	CODE

INIT . . . . . . . . . . . . . .  	L NEAR	0098	CODE

KERES  . . . . . . . . . . . . .  	L NEAR	0006	CODE
KIIRAS . . . . . . . . . . . . .  	L NEAR	0067	CODE

LABDA  . . . . . . . . . . . . .  	L BYTE	00EC	CODE

NEMSZAM  . . . . . . . . . . . .  	L NEAR	002D	CODE

PARAMKEZDET  . . . . . . . . . .  	L NEAR	0050	CODE
PROGRAM_VEGE . . . . . . . . . .  	L NEAR	00E6	CODE

RAJZ . . . . . . . . . . . . . .  	L NEAR	00A9	CODE

SEGITOSZOVEG . . . . . . . . . .  	L BYTE	00EE	CODE
SEGITOSZOVEG2  . . . . . . . . .  	L BYTE	010D	CODE
START  . . . . . . . . . . . . .  	L NEAR	0000	CODE

TORLES . . . . . . . . . . . . .  	L NEAR	00A4	CODE

VAR  . . . . . . . . . . . . . .  	L NEAR	00E2	CODE

@CPU . . . . . . . . . . . . . .  	TEXT  0101h		
@FILENAME  . . . . . . . . . . .  	TEXT  subex1		
@VERSION . . . . . . . . . . . .  	TEXT  510		

Microsoft (R) Macro Assembler Version 5.10                  10/17/23 19:25:2
                                                             Symbols-2



    190 Source  Lines
    190 Total   Lines
     25 Symbols

  47412 + 459816 Bytes symbol space free

      0 Warning Errors
      0 Severe  Errors
